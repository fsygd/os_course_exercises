## 视频相关思考题

## 视频相关思考题

### 11.1 进程的概念

1. 什么是程序？什么是进程？

   程序：对实现目的的执行过程的描述，一系列指令的集合

   进程：程序在特定的数据集合上的动态执行

2. 进程有哪些组成部分？

   执行的程序、运行的状态（通用寄存器，特殊寄存器）、进程占用的资源、数据、CPU和内存数据状态

3. 请举例说明进程的独立性和制约性的含义。

   独立性：不同的进程之间没有相互干扰，比如执行一个计算$$\pi$$的进程，不管这个时候有没有执行其他的进程，计算的结果都应该是一致的

   制约性：不同进程之间由于数据共享、通信、资源分配等原因互相之间存在影响，比如一个进程执行过程中如果有另一个进程也要执行，操作系统进行调度的结果很可能是并发执行，这样每个进程的总执行时间都会比单独执行要长，因为涉及到执行现场的保存与恢复


4. 程序和进程联系和区别是什么？

   程序是进程的一部分，程序是静态的代码，如果不被损坏能一直保存，进程是动态执行的过程，执行完了生命周期就结束了

### 11.2 进程控制块

1. 进程控制块的功能是什么？

   操作系统管理控制进程运行

2. 进程控制块中包括什么信息？

   进程基本信息：进程标识

   进程控制信息：调度和状态信息、进程间通信信息、存储管理信息、进程所用资源、有关数据结构连接信息

   运行状态：处理机现场

3. ucore的进展控制块数据结构定义中哪些字段？有什么作用？

### 11.3 进程状态

1. 进程生命周期中的相关事件有些什么？它们对应的进程状态变化是什么？

   进程创建：创建->就绪

   进程执行：就绪->执行

   进程等待：执行->等待

   进程抢占：执行->就绪（时间片用完也属于这种情况）

   进程唤醒：等待->就绪

   进程结束：执行->结束

### 11.4 三状态进程模型

1. 运行、就绪和等待三种状态的含义？7个状态转换事件的触发条件是什么？

   运行：当前占用CPU执行指令

   就绪：其他资源都已准备就绪，获得CPU控制权就能执行

   等待：需要某个外部事件的发生才能继续执行

   ​

   创建状态：有进程执行系统调用，申请创建一个进程

   创建->就绪：进程需要的除CPU处理机以外的资源都准备完毕

   就绪->运行：CPU根据调度算法选择某个进程执行

   运行->退出：进程执行完毕或者出错

   运行->就绪：时间片用完或者被高优先级的就绪进程抢占CPU控制权

   运行->等待：进程执行过程中需要等待数据或者执行耗时较长的调用

   等待->就绪：进程等待的外部事件发生

### 11.5 挂起进程模型

1. 引入挂起状态的目的是什么？

   在优先级高的进程内存空间得不到满足的时候，把某些进程的内容从内存中移到外存中来，腾出空间

2. 引入挂起状态后，状态转换事件和触发条件有什么变化？

   多了就绪挂起和等待挂起，多了挂起和激活两种变迁

3. 内存中的什么内容放到外存中，就算是挂起状态？

   堆栈内容放到外存中，算是挂起

### 11.6 线程的概念

1. 引入线程的目的是什么？

   实现一个进程内部的并发执行

2. 什么是线程？

   进程中描述指令流执行状态的部分，CPU调度的基本单元

3. 进程与线程的联系和区别是什么？

   同一个进程内部的线程共享同样的地址空间

   进程是资源分配的单元，线程是CPU进行调度的基本单元

### 11.7 用户线程

1. 什么是用户线程？

   由用户自己的函数库来实现线程的切换和调度

2. 用户线程的线程控制块保存在用户地址空间还是在内核地址空间？

   用户地址空间

### 11.8 内核线程

1. 用户线程与内核线程的区别是什么？

   用户线程由用户的函数库来实现线程的切换和调度

   内核线程由系统调用来实现

   区别：实现方式，TCB保存位置，线程阻塞的影响范围、线程切换的开销

2. 同一进程内的不同线程可以共用一个相同的内核栈吗？

   可以

3. 同一进程内的不同线程可以共用一个相同的用户栈吗？

   不可以

## 选做题

1. 请尝试描述用户线程堆栈的可能维护方法。

在用户进程的堆空间内给创建的线程动态分配